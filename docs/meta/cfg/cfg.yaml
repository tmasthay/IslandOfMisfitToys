folder_name: leaderboard
git:
  user: tmasthay
  repo_name: IslandOfMisfitToys
  url: git@github.com:${.user}/${.repo_name}.git
  branch: gh-pages
paths:
  src: ../../misfit_toys
  final: ${..folder_name}
  prev_leaders: IslandOfMisfitToys/${.final}
  data_dump: case_${..folder_name}
  meta: meta
params:
- vp
- src_amp_y
score: l2_diff
leaderboard_size: 10
extensions: [gif, jpg, png]
rst:
  table:
    title: Leaderboard
    widths: 25 25 50
    header-rows: 1
  dest: ../custom_pages
  img:
    order:
      vp:
      - vp
      - random_traces

  idx_gen:
    data:
      regex: .*/${....paths.data_dump}/(\d+)$
      callback: make_data_page
      kw:
        img_order: ${....img.order}
        final_path: ${.....paths.final}
        img_first: false
        maxdepth: 4
        groups:
          score:
          - .*_compare\.yaml
          hyperparameters:
          - config\.yaml
          - overrides\.yaml
          version control:
          - git_info\.txt
          stdout:
          - main.log
          - rank_[0-9]+\.out
          stderr:
          - main.err
          - rank_[0-9]+\.err


    default:
      callback: make_default_page
